---
title: "ConoHa VPS Minecraft ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã‚’ Minecraft 1.17 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹"
emoji: "ğŸ“"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["minecraft", "conohavps"]
published: true
---

:::message alert
2021-06-09ç¾åœ¨ã«ã€ConoHa Minecraft manager ã®æä¾›ã‚’ä¸€æ™‚ä¸­æ­¢ã—ã¦æ”¹ä¿®ä¸­ã ãã†ã§ã™ã€‚
https://www.conoha.jp/vps/news/?ap=2015052242

æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã¯æ§ãˆã‚‹ã‚ˆã†ã«å…¬å¼ã‹ã‚‰è¨€ã‚ã‚Œã¦ã„ã‚‹ã®ã§è‡ªå·±è²¬ä»»ã§å¯¾å¿œãŠé¡˜ã„ã—ã¾ã™ã€‚
æœ¬è¨˜äº‹ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§æ§‹ç¯‰ã—ãŸãƒã‚¤ã‚¯ãƒ©ã‚µãƒ¼ãƒãƒ¼ã®æ§‹æˆã®ã¾ã¾ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚’è¡Œã†ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ãŒä¸€å¿œæ³¨æ„ã—ã¦ãã ã•ã„ã€‚
:::
# ã¯ã˜ã‚ã«

æœ¬è¨˜äº‹ã¯ã€ConoHa VPS ã® Minecraft ãƒãƒ«ãƒã‚µãƒ¼ãƒãƒ¼ã‚’æœ€æ–°ã® Minecraft 1.17 ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã™ã‚‹éš›ã«è¡Œã£ãŸæ‰‹é †ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚
ç­†è€…ã®ç’°å¢ƒã§ã¯å•é¡Œãªããƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãŒè¡Œãˆã¾ã—ãŸãŒã€æœ¬è¨˜äº‹ã¯å‹•ä½œã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ãªã„ã®ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã¯è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚


## ConoHa VPS Minecraft ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã¯

Minecraftã®ãƒãƒ«ãƒã‚µãƒ¼ãƒãƒ¼ã‚’ ConoHa VPS ã®ã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰è¡Œãˆã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚
è©³ç´°ã¯ã“ã¡ã‚‰ https://www.conoha.jp/vps/function/minecraft/

## ç­†è€…ã®ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒ

å‰è¿°ã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ãƒãƒ«ãƒã‚µãƒ¼ãƒãƒ¼ã‚’æ§‹ç¯‰ã—ãŸæ–¹ã¯ã ã„ãŸã„åŒã˜ã ã¨æ€ã„ã¾ã™ã€‚

- ã‚µãƒ¼ãƒãƒ¼: ConoHa VPS
- OS: Ubuntu 20.04.2 LTS


## å‰æçŸ¥è­˜

- ãƒã‚¤ã‚¯ãƒ©ã‚µãƒ¼ãƒãƒ¼ã¸ã®ãƒ­ã‚°ã‚¤ãƒ³ãŒã§ãã‚‹
    - [ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹](https://support.conoha.jp/v/hellovps-w-01/?btn_id=v-hellovps-w-01-sidebar_v-hellovps-w-01#sec02/)
    - [SSH ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚½ãƒ•ãƒˆã‚’ä½¿ã£ã¦ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹](https://support.conoha.jp/v/hellovps-w-01/?btn_id=school-wordpress_v-hellovps-w-01#sec03)
- ç°¡å˜ãª[ã‚³ãƒãƒ³ãƒ‰æ“ä½œ](https://support.conoha.jp/v/hellovps-w-02/?btn_id=v-hellovps-w-01-sidebar_v-hellovps-w-02)

ä¸Šè¨˜ã®å‰æçŸ¥è­˜ã¯ãƒªãƒ³ã‚¯å…ˆã‚’ç¢ºèªã™ã‚Œã°ã‚ã‚‹ç¨‹åº¦è¦šãˆã‚‰ã‚Œã‚‹ã¯ãšã§ã™ã€‚
è¨˜äº‹ã‚’èª­ã‚“ã§ã‚‚ã‚ã‹ã‚‰ãªã„å ´åˆã¯ã€å‘¨ã‚Šã®çŸ¥ã£ã¦ãã†ãªäººã«èãã¨ã‹ã€è¨˜äº‹ã«ã‚³ãƒ¡ãƒ³ãƒˆã¨ã‹ã€Twitterã§åƒ•ã«èã„ã¦ã‚‚ã‚‰ã†ã¨ã‹ã—ã¦é ‘å¼µã£ã¦ãã ã•ã„...!

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ä½œæ¥­

ä»¥ä¸‹ã®æ‰‹é †ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚

1. Minecraft ã‚µãƒ¼ãƒãƒ¼ã®åœæ­¢
1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å–å¾—
1. Java ã® ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 16 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹
1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹


## 1. Minecraft server ã®åœæ­¢

Minecraft manager ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã€ŒMinecraftã‚µãƒ¼ãƒãƒ¼ã€ã®é …ç›®ã§ã€Œåœæ­¢ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚
å‚è€ƒ https://support.conoha.jp/v/minecraftmanager_template/#04


ã¾ãŸã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ

```shell
sudo systemctl stop minecraft-server.service

# status ã®ç¢ºèª
sudo systemctl status minecraft-server.service
```

## 2. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å–å¾—

Minecraft manager ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦æ‰‹å‹•ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
å‚è€ƒ https://support.conoha.jp/v/minecraftmanager_template/#06

## 3. Java ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 16 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹

Minecraft 1.17 ã§ åˆ©ç”¨ã™ã‚‹ Java ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ 16 ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚
è©³ç´°ã¯ [MinecraftãŒ1.17ã‚ˆã‚ŠJava 16ã«æœ€ä½è¦ä»¶ãŒå¤‰æ›´ã•ã‚Œã‚²ãƒ¼ãƒ ãŒèµ·å‹•ã§ããªã„å¯èƒ½æ€§](https://minecraft.mixjuice.info/2021/06/01/minecraft1-17-java-16/)

**Java ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ‰‹é †**

install ã§ãã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ¤œç´¢ã—ã¾ã™
```shell
# bash
sudo apt search openjdk-\(\.\)\+-jdk$
```

install ã‚’å®Ÿè¡Œã—ã¾ã™
```shell
sudo apt update

sudo apt install openjdk-16-jdk
```

æœ€å¾Œã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™
```shell
java -version
openjdk version "16.0.1" 2021-04-20
OpenJDK Runtime Environment (build 16.0.1+9-Ubuntu-120.04)
OpenJDK 64-Bit Server VM (build 16.0.1+9-Ubuntu-120.04, mixed mode, sharing)
```

## 4. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹

:::message
ç­†è€…ã¯è©¦ã—ã¦ã„ã¾ã›ã‚“ãŒã€Java ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 16 ã«ã—ãŸæ™‚ç‚¹ã§ Minecraft manager ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦[ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—](https://support.conoha.jp/v/minecraftmanager_template/?btn_id=v-minecraftverup1-13-sidebar_v-minecraftmanager_template#02)ã™ã‚Œã°ãƒã‚¤ã‚¯ãƒ©ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€Minecraft manager ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã§ããªã‹ã£ãŸã®ã§ã€ã‚‚ã—ã‹ã—ãŸã‚‰ãƒã‚¤ã‚¯ãƒ©ã®èµ·å‹•ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãã®å ´åˆã¯æ¬¡ã®æ‰‹é †ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è©¦ã—ã¦ãã ã•ã„ï¼
:::

ã¾ãš root ã«åˆ‡ã‚Šæ›¿ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
```shell
sudo su -
```

æ¬¡ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
å®Ÿè¡ŒãŒçµ‚ã‚ã‚Šæ¬¡ç¬¬ã€root ã‹ã‚‰æŠœã‘ã¦è‰¯ã„ã§ã™ã€‚
```shell
curl https://gist.githubusercontent.com/zztkm/b7e80ac3f319319c68e6a3b13ae5b7dd/raw/66a06b646cd69d56b40f7f2caeac3dbe0baee82c/minecraft_verup_to_latest.sh | bash
```

æ­£å¸¸ã« Minecraft server ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèª
ä¸‹è¨˜ã®ã‚ˆã†ã« active (running) ã§ã‚ã‚Œã°OK
```shell
# status ã®ç¢ºèª
sudo systemctl status minecraft-server.service

â— minecraft-server.service - Minecraft Server
     Loaded: loaded (/etc/systemd/system/minecraft-server.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2021-06-09 12:53:40 JST; 3min ago
```

ä¸Šã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ç­†è€…ã® [GitHub Gist](https://gist.github.com/zztkm/b7e80ac3f319319c68e6a3b13ae5b7dd) ã§ç¢ºèªã§ãã¾ã™ã€‚
[ConoHa å…¬å¼ã§é…å¸ƒã•ã‚Œã¦ã„ãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ](https://gist.github.com/ConoHa/d16fedf984db8484cbeb867fcbce5534)ã«ä»¥ä¸‹ã®ä¿®æ­£ã‚’åŠ ãˆãŸã‚‚ã®ã§ã™ã€‚
- package manager ã‚’ yum ã‹ã‚‰ apt ã«å¤‰æ›´
- Minecraft server èµ·å‹•ã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•°ã‚’ä¿®æ­£
    - å‚è€ƒ: https://github.com/msmhq/msm/issues/370


## èµ·å‹•ç¢ºèªã—ãŸã®ã§éŠã¶

ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã¿ãŸ

![version-check](https://storage.googleapis.com/zenn-user-upload/331610a486b5ce773c0ccfd1.png)


ä»¥ä¸Šã«ãªã‚Šã¾ã™ã€‚

ã“ã“ã®éƒ¨åˆ†è£œè¶³ãŒå¿…è¦ã ã‚ˆã¨ã‹ã€ã“ã“ãŒã‚ˆãã‚ã‹ã‚‰ã‚“ã¨ã‹ã€ã“ã‚Œé–“é•ã£ã¦ã‚‹ã§ã¨ã‹ã‚ã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆ or [GitHub issue](https://github.com/zztkm/zenn-contents/issues)ã‚’ã‚‚ã‚‰ãˆã‚‹ã¨åŠ©ã‹ã‚Šã¾ã™ï¼
(ã‚‚ã¡ã‚ã‚“PRã‚‚æ­“è¿ã§ã™ï¼)

æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼